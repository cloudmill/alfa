//- mixins


mixin abcTitle(items)
  ul.glossary-abc.abc--js(data-aos='fade-up')
    each item in items
      li(data-title=item.title)
        i.icon-ok
        span= item.title

mixin accGoss(items)
  .acc
    each item in items
      .acc__card(data-title=item.title, data-aos='fade-up')
        .acc__title
          .inner
            = item.title
            - if(item.subtitle !== '')
              .acc__title-desc= item.subtitle
          span
        .acc__panel Анизотропия пласта - зависимость физических свойств пород пласта от направления. Наиболее распространенными направленно-зависимыми свойствами являются проницаемость и напряжение. Большинство пластов имеют анизотропию вертикальной и горизонтальной проницаемости, причем вертикальная проницаемость намного меньше (часто на порядок меньше), чем горизонтальная проницаемость. Анизотропию проницаемости характеризуют числовым параметром отношения вертикальной к горизонтальной проницаемости kv/kh. Анизотропия проницаемости плоской подстилающей поверхности пласта распространена при наличии естественных трещин. Анизотропия напряжения часто является наибольшей между нагрузкой кровли пласта и горизонтальным напряжением в плоскости залегания.  Анизотропия проницаемости иногда может быть связана с анизотропией напряжения пласта.

mixin menuNav(items)
  ul.menuNav
    each item in items
      li.menuNav__item
        a.menuNav__link(href=item.href, title=item.title)= item.title

mixin menuSubNav(items)
  ul.menuSubNav
    each item in items
      li.menuSubNav__item
        a.menuSubNav__link(href=item.href, title=item.title)= item.title

mixin menuAdditionalNav(items, page)
  ul.menuAdditionalNav.revealOut(data-aos='')
    each item in items
      - let active  = ''
      - if(page === item.href) active='active'
      li.menuAdditionalNav__item.revealIn: a.menuAdditionalNav__link(href=item.href + '.html', class=active)
          = item.title

mixin navTitle(title, parent)
  .nav-title
    .container
      ul.breadcrumbs.revealOut(data-aos='')
        li.breadcrumbs__item.revealIn
          a.breadcrumbs__link(href="#") Главная
        - if(parent)
          li.breadcrumbs__item.revealIn
            a.breadcrumbs__link(href="#")= parent
        li.breadcrumbs__item.active.revealIn= title
      .mainTitle.revealOut(data-aos='')
        h1.revealIn= title
        +img('logo-title.svg', 'revealIn')

mixin navBread(title, parent)
  ul.breadcrumbs.revealOut(data-aos='')
    li.breadcrumbs__item.revealIn
      a.breadcrumbs__link(href="#") Главная
    - if(parent)
      li.breadcrumbs__item.revealIn
        a.breadcrumbs__link(href="#")= parent
      li.breadcrumbs__item.active.revealIn= title

mixin navTitleBack(title, parent, src, items)
  .nav-title.nav-background.nav-background--fullWidth.parallax-box(data-hook="0")
    .setImg.parallax-item(style=src)
    .container
      +navBread(title, parent)
      .row.end__lg.bottom__lg
        .col.col__lg-8.col__xs-12
          .mainTitle(data-aos='fade-up')
            +revealMainTag(title, 'h1')
          - if(items)
            .nav-background__img.m-auto(data-aos='fade-up')
              each item in items
                +img(item.src)
        .col.col__lg-4.col__xs-12.nav-background__trade.first__lg(data-aos='fade-up')
          +img('equip/trademarkw.svg', 'spinnerSlow')

mixin navTitleBackOne(title, parent, src, logo, desc, pdf)
  .nav-title.nav-background.nav-background--fullWidth.parallax-box(data-hook="0")
    .setImg.parallax-item(style=src)
    .container
      +navBread(title, parent)
      .row.end__lg
        .col.col__lg-8.col__xs-12
          .mainTitle(data-aos='fade-up')
            +revealMainTag(title, 'h1')
          - if(desc)
            .nav-background__desc(data-aos='fade-up')= desc
      .row.m-auto.bottom__xs.between__xs
        .col.col__lg-4.col__xs-6.nav-background__link.revealOut(data-aos='')
          a.revealIn(href='#')
            +img(pdf)
            | Скачать #[br] презентацию
        - if(logo)
          .col.col__lg-8.nav-background__img(data-aos='fade-up')
            +img(logo)

mixin navTitleBackOneArray(title, parent, src, items, pdf)
  .nav-title.nav-background.parallax-box(data-hook="0")
    .setImg.parallax-item(style=src)
    .setBack
    .container.relative
      +navBread(title, parent)
      .row.end__xs
        .col.col__lg-8.col__xs-12
          .mainTitle(data-aos='fade-up')
            +revealMainTag(title, 'h1')
          - if(items)
            ul.list--bullet.row.between__xs.revealOut(data-aos='')
              each item in items
                li.col.col__xl-5.col__lg-6.col__xs-12.revealIn
                  span.long-arrow-right
                  = item
      if(pdf)
        .nav-background__link.nav-bottom.revealOut(data-aos='')
          a.revealIn(href='#')
            +img(pdf)
            | Скачать #[br] презентацию

mixin nextBlock(title)
  .container(data-aos='fade-up')
    a.nextBlock.combineArr(href='#')
      .nextBlock-desc Смотрите также
      .nextBlock-title= title
      span.long-arrow-right

mixin backLink(title)
  .publications-soc
    a.link-icon(href='#', data-aos='fade-up')
      +img('icons/backLink.svg')
      span= title
    .social(data-aos='fade-up')
      p Поделиться
      ul.social-list
        li: a(href='#'): i.icon-fa
        li: a(href='#'): i.icon-vk
        li: a(href='#'): i.icon-tw

mixin nextItem(title, src, link, date)
  .nextItem
    .row.row-add.nextItem-inner(data-aos='fade-up')
      .col.col__lg-8.col__md-6.col__xs-12.first__md.last__xs
        +img(src)
      a.col.col__lg-4.col__md-6.col__xs-12.nextItem-desc.combineArr(href='#')
        .publications-item-top
          p.text__sm= link
          - if(date)
            .publications-item-date 20 августа #[br] 2020
        h3= title
        i: +img('nextBlock.svg')

mixin projects(items)
  .projects-main.filter-container
    each item in items
      .projects-item.filtr-item(data-category=item.category, data-aos='fade-up')
        a.projects-item-left(href='project.html')
          .projects-item--title
            h3= item.title
            p= item.desc
          .projects-item--bot
            p.text__sm= item.catTitle
            p.text__sm= item.date
        a.projects-item-right(href='project.html')
          .projects-item--img
            +img(item.image)

mixin technology(items)
  .equipmentList
    each item in items
      .equipmentList-item(data-aos='fade-up')
        .equipmentList-item__top(data-aos='fade-up')
          .equipmentList-item__num: +img(item.ico)
          .equipmentList-item__title.revealOut(data-aos='')
            h3.revealIn: a(href='#')= item.title
            p.text__sm.revealIn= item.desc
        .equipmentList-item__bottom(data-aos='fade-up')
          .equipmentList-item__mark.spinnerSlow: +img('equip/trademark.svg')
          +img(item.image)

mixin button(title, className, src)
  a.btn(href=src, class=`btn--${className}`)
    span
    = title

//- reveal
mixin reveal(title, tag)
  .revealOut(data-aos='')
    #{tag}(class='revealIn')= title

mixin revealMainTag(title, tag)
  #{tag}.revealOut(data-aos='')
    span.revealIn!= title

mixin revealIndep(items)
  each item in items
    .revealOut
      span.revealIn= item

mixin mainSlider(items)
  .swiper-slide
    .slider-back.parallax-item
      video.video#video(width="120%" height="120%", autoplay, loop, mute)
        source(src="assets/images/video/video.mp4" type="video/mp4")
    .container.relative
      .index-slider-title
        .revealOut
          h2 Фильтры
        .revealOut.title-left
          h2 прямой
        .revealOut
          h2 намотки
        .revealOut
          h2.title-icon
            +img('alfa.svg')
            span АльфаДирект
      .index-slider-desc
        p Высокопрочные проволочные #[br] фильтры для наземных #[br] и&nbsp;оффшорных месторождений #[br] нефти и газа
        a.btn.btn--primary.btn--transparent(href='#')
          span
          | Подробнее
  each item in items
    .swiper-slide
      .slider-back.parallax-item
        .image(style=`background: url("assets/images/${item.img}") no-repeat center / cover`)
      .container.relative
        .index-slider-title
          each title in item.titles
            - let active  = ''
            - let left  = ''
            - if(title.black === true) active='title-icon'
            - if(title.left === true) left='title-left'
            .revealOut(class=left)
              h2(class=active)
                - if(title.img === true)
                  +img('alfa.svg')
                = title.text
        .index-slider-desc
          p!= item.desc
          a.btn.btn--primary.btn--transparent(href='#')
            span
            | Подробнее

mixin form(title, textarea, mess)
  form.form#form(method='POST', action='')
    .form-inner
      +revealMainTag(title, 'h3')
      .row.row-add
        .col.col__md-6.col__xs-12.form__group(data-aos='fade-up'): +fieldInput('text', 'name', 'nameVac', 'Имя', true)
        .col.col__md-6.col__xs-12.form__group(data-aos='fade-up'): +fieldInput('email', 'email', 'emailVac', 'Email', true)
        .col.col__xs-12.form__group(data-aos='fade-up'): +fieldTextarea('content', 'content', textarea, 3)
        .col.col__md-6.col__xs-12.form__group(data-aos='fade-up')
          .radio
            input(type='radio', name='agreed', id='agreed')
            label(for='agreed') Согласен на обработку персональных данных в соответствии с #[a(href='#') политикой конфиденциальности]
        .col.col__md-6.col__xs-12.form__group(data-aos='fade-up')
          button.btn.btn--primary.form--js(type='submit')
            span
            | Отправить
    .form-send
      +revealMainTag(mess, 'h3')
      .form__group.form-back--js(data-aos='fade-up'): +button('Отправить еще', 'primary', '#')


mixin sidebar(items)
  .col.col__lg-4.col__xs-12.hideOnMobileAndTablet
    .sidebar
      ul.equipmentNav.anchor(data-aos='fade-up')
        each item in items
          li(classname=item.className): a(href=item.href)= item.title
      a.link-icon(href='#', data-aos='fade-up')
        +img('icons/backLink.svg')
        span Ко всем фильтрам

//- form-input
mixin fieldInput(type, name, id, label, required)
    .input.input--hoshi
      input.control.input__field.input__field--hoshi(type=type, name=name, id=id, required=required)
      label.input__label.input__label--hoshi(for=id)
        span.input__label-content.input__label-content--hoshi= label
      .error-content

//- form-textarea
mixin fieldTextarea(name, id, label, rows)
  .input.input--hoshi
    textarea.control.input__field.input__field--hoshi(type=type, name=name, id=id, required=required)
    label.input__label.input__label--hoshi(for=id)
      span.input__label-content.input__label-content--hoshi= label

//- form-checkbox
mixin fieldCheckbox(name, id, checked)
    .checkbox
        input(type="checkbox", id=id, checked=checked)
        label(for=id)= name

//- form-radio
mixin fieldRadio(name, id, label, checked)
    .radio
        input(type="radio", id=id, value=id, name=label, checked=checked)
        label(for=id)=name

//- img
mixin img(src, className)
  img(src=`assets/images/${src}`, alt='Alfa', class=className)
